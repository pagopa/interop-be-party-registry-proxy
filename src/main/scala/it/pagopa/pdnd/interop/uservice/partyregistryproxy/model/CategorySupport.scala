package it.pagopa.pdnd.interop.uservice.partyregistryproxy.model

import spray.json.{DefaultJsonProtocol, JsArray, JsValue}
import spray.json._
//import java.nio.charset.StandardCharsets
//import java.nio.file.{Files, Paths}

object CategorySupport extends DefaultJsonProtocol {
  def load(): Categories = {
//    val path          = Paths.get("src/main/resources/categorie_ipa.json")
//    val content       = Files.readString(path, StandardCharsets.UTF_8)
    val json: JsValue = categories.parseJson
    val cats: Set[Category] = json.asJsObject.fields("records") match {
      case JsArray(elements) =>
        elements.flatMap {
          case JsArray(elements) =>
            Some(Category(elements(0).convertTo[String], elements(1).convertTo[String], elements(2).convertTo[String]))
          case _ => None
        }.toSet
      case _ => Set.empty[Category]
    }
    Categories(cats.toSeq)
  }

  val categories: String =
    """
      |{
      |  "records": [
      |    [
      |      "C17",
      |      "EntidiPrevidenzaedAssistenzaSocialeinContoEconomicoConsolidatoprivati",
      |      "EntiNazionalidiPrevidenzaedAssistenzaSocialeinContoEconomicoConsolidato"
      |    ],
      |    [
      |      "C16",
      |      "EntidiPrevidenzaedAssistenzaSocialeinContoEconomicoConsolidatopubblici",
      |      "EntiNazionalidiPrevidenzaedAssistenzaSocialeinContoEconomicoConsolidato"
      |    ],
      |    [
      |      "L37",
      |      "GestoridiPubbliciServizi",
      |      "GestoridiPubbliciServizi"
      |    ],
      |    [
      |      "SAG",
      |      "StazioniAppaltantiGestoridiPubbliciServizi",
      |      "GestoridiPubbliciServizi"
      |    ],
      |    [
      |      "L10",
      |      "AgenzieedEntiperilTurismo",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L19",
      |      "AgenzieedEntiRegionalidelLavoro",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L13",
      |      "AgenzieedEntiRegionalidiSviluppoAgricolo",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L2",
      |      "AgenzieedEntiRegionaliperlaFormazione,laRicercael'Ambiente",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "C10",
      |      "AgenzieFiscali",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L20",
      |      "AgenzieRegionalieProvincialeperlaRappresentanzaNegoziale",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L21",
      |      "AgenzieRegionaliperleErogazioniinAgricoltura",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L22",
      |      "AgenzieRegionaliSanitarie",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L15",
      |      "Agenzie,EntieConsorziPubbliciperilDirittoalloStudioUniversitario",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L1",
      |      "AltriEntiLocali",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "C13",
      |      "AutomobileClubFederatiACI",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "C5",
      |      "Autorita'AmministrativeIndipendenti",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L40",
      |      "Autorita'diBacino",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L11",
      |      "Autorita'Portuali",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L39",
      |      "AziendeeConsorziPubbliciTerritorialiperl'EdiliziaResidenziale",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L46",
      |      "AziendeedAmministrazionidelloStatoadOrdinamentoAutonomo",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L8",
      |      "AziendeOspedaliere,AziendeOspedaliereUniversitarie,PoliclinicieIstitutidiRicoveroeCuraaCarattereScientificoPubblici",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L34",
      |      "AziendePubblichediServiziallaPersona",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L7",
      |      "AziendeSanitarieLocali",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L35",
      |      "CamerediCommercio,Industria,ArtigianatoeAgricolturaeloroUnioniRegionali",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L45",
      |      "Citta'Metropolitane",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L6",
      |      "ComunieloroConsorzieAssociazioni",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L12",
      |      "Comunita'MontaneeloroConsorzieAssociazioni",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L24",
      |      "ConsorzidiBacinoImbriferoMontano",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L28",
      |      "ConsorziInteruniversitaridiRicerca",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L42",
      |      "Consorziperl'AreadiSviluppoIndustriale",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L36",
      |      "ConsorzitraAmministrazioniLocali",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L44",
      |      "EntidiRegolazionedeiServiziIdricieodeiRifiuti",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "C8",
      |      "EntieIstituzionidiRicercaPubblici",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "C3",
      |      "EntiPubbliciNonEconomici",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "C7",
      |      "EntiPubbliciProduttoridiServiziAssistenziali,RicreativieCulturali",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "C14",
      |      "FederazioniNazionali,Ordini,CollegieConsigliProfessionali",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L16",
      |      "FondazioniLirico,Sinfoniche",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "C11",
      |      "ForzediPoliziaadOrdinamentoCivileeMilitareperlaTuteladell'OrdineedellaSicurezzaPubblica",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L33",
      |      "IstitutidiIstruzioneStatalediOgniOrdineeGrado",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "C12",
      |      "IstitutiZooprofilatticiSperimentali",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L43",
      |      "Istituzioniperl'AltaFormazioneArtistica,MusicaleeCoreutica-AFAM",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "C2",
      |      "OrganiCostituzionaliediRilievoCostituzionale",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L38",
      |      "ParchiNazionali,ConsorzieEntiGestoridiParchieAreeNaturaliProtette",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "C1",
      |      "PresidenzadelConsigliodeiMinistri,MinisterieAvvocaturadelloStato",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L5",
      |      "ProvinceeloroConsorzieAssociazioni",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L4",
      |      "Regioni,ProvinceAutonomeeloroConsorzieAssociazioni",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L31",
      |      "TeatriStabiliadIniziativaPubblica",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L18",
      |      "UnionidiComunieloroConsorzieAssociazioni",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "L17",
      |      "Universita'eIstitutidiIstruzioneUniversitariaPubblici",
      |      "PubblicheAmministrazioni"
      |    ],
      |    [
      |      "S01",
      |      "Societa'inContoEconomicoConsolidato",
      |      "Societa'inContoEconomicoConsolidato"
      |    ],
      |    [
      |      "SA",
      |      "StazioniAppaltanti",
      |      "StazioniAppaltanti"
      |    ]
      |  ]
      |}
      |""".stripMargin
}
